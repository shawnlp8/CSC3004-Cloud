<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Product Search</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src = "https://kit.fontawesome.com/b99e675b6e.js"></script>

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="static\css\styles.css">
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    
  </head>
  <body>
    <div id="myModal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
         <div class="modal-content">
            <div class="modal-header">
               <span class="dataId"></span>
               <button type="button" class="close" data-dismiss="modal">x</button>
            </div>
            <form name="add_products" id="add_products">
            <div class="modal-body">
               <p>Add Products</p>
               <div class="form-group">
                     <div id="InputsWrapper">
                        <div class="row">
                           <div class="col-xs-6">
                              <input type="text" name="product[]" placeholder="Enter product" class="form-control name_list" />
                            </div>
                           <div class="col-xs-6">
                            <button type="button" name="add" id="AddMoreFileBox" class="btn btn-success">Add More</button>
                          </div>
                        </div>
                     </div>
                     <br/>
                     
               </div>
            </div>
            <div class="modal-footer">
              <input type="button" name="submit" id="submit" class="btn btn-info" value="Submit" data-dismiss="modal" />  
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </form>
         </div>
      </div>
   </div>
   
    
    <div>
        <ul class="horizontal">
            <li><a class="#" href='/'>Home</a></li>
            <li><a class="active" href='/Manager'>Manager</a></li>
          </ul>
    </div>

    <div class="outer">
        <h1>Select a box to specify product</h1>
        <form method="post" action="/doneLabel" enctype="multipart/form-data">
          <div class="inner" id="inner">
            <div id="ID-A1" data-id="ID-A1" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-B1" data-id="ID-B1" data-target="#myModal" data-toggle="modal" href="#" ></div>
            <div id="ID-C1" data-id="ID-C1" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-D1" data-id="ID-D1" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-E1" data-id="ID-E1" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-F1" data-id="ID-F1" data-target="#myModal" data-toggle="modal" href="#"></div>

            <div id="ID-A2" data-id="ID-A2" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-B2" data-id="ID-B2" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-C2" data-id="ID-C2" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-D2" data-id="ID-D2" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-E2" data-id="ID-E2" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-F2" data-id="ID-F2" data-target="#myModal" data-toggle="modal" href="#"></div>

            <div id="ID-A3" data-id="ID-A3" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-B3" data-id="ID-B3" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-C3" data-id="ID-C3" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-D3" data-id="ID-D3" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-E3" data-id="ID-E3" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-F3" data-id="ID-F3" data-target="#myModal" data-toggle="modal" href="#"></div>
            
            <div id="ID-A4" data-id="ID-A4" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-B4" data-id="ID-B4" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-C4" data-id="ID-C4" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-D4" data-id="ID-D4" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-E4" data-id="ID-E4" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-F4" data-id="ID-F4" data-target="#myModal" data-toggle="modal" href="#"></div>

            <div id="ID-A5" data-id="ID-A5" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-B5" data-id="ID-B5" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-C5" data-id="ID-C5" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-D5" data-id="ID-D5" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-E5" data-id="ID-E5" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-F5" data-id="ID-F5" data-target="#myModal" data-toggle="modal" href="#"></div>

            <div id="ID-A6" data-id="ID-A6" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-B6" data-id="ID-B6" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-C6" data-id="ID-C6" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-D6" data-id="ID-D6" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-E6" data-id="ID-E6" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-F6" data-id="ID-F6" data-target="#myModal" data-toggle="modal" href="#"></div>

            <div id="ID-A7" data-id="ID-A7" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-B7" data-id="ID-B7" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-C7" data-id="ID-C7" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-D7" data-id="ID-D7" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-E7" data-id="ID-E7" data-target="#myModal" data-toggle="modal" href="#"></div>
            <div id="ID-F7" data-id="ID-F7" data-target="#myModal" data-toggle="modal" href="#"></div>
        </div>
        <input type="submit" value="Done"></input>
        </form>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
    <script>
      let img_Name = '{{ BP_Filename }}'; 
	    document.getElementById('inner').style.backgroundImage = "url('./static/css/"+ img_Name +"')";

      $('#myModal').on('show.bs.modal', function (e) {
      var dataId = $(e.relatedTarget).attr('data-id');
      $(this).find('.dataId').text(dataId);
      });

      $(document).ready(function() {
  
      var MaxInputs       = 8; //maximum input boxes allowed
      var InputsWrapper   = $("#InputsWrapper"); //Input boxes wrapper ID
      var AddButton       = $("#AddMoreFileBox"); //Add button ID
        
      var x = InputsWrapper.length; //initlal text box count
      var FieldCount=1; //to keep track of text box added
        
      $(AddButton).click(function (e)  //on add input button click
      {
              if(x <= MaxInputs) //max input box allowed
              {
                  FieldCount++; //text box added increment
                  //add input box
                  $(InputsWrapper).append('<div class="row"><p class="col-xs-6"><input type="text" placeholder="Enter your product" class="form-control product_list" name="product[]" id="field_'+ FieldCount +'" value="Enter your product '+ FieldCount +'"/></p><a href="#" class="btn btn-danger removeclass">Ã—</a></div>');
                  x++; //text box increment
              }
              else if(x == 1){
                x = 1;
              }
      return false;
      });
        
      $("body").on("click",".removeclass", function(e){ //user click on remove text
              if( x > 1 ) {
                      $(this).parent('div').remove(); //remove text box
                      x--; //decrement textbox
              }
      return false;
      })
      $('#submit').click(function(){            
                $.ajax({  
                      url:"/postproduct",  
                      method:"POST",  
                      data:$('#add_product').serialize(),  
                      success:function(data)  
                      {  alert(data)
                          $('#resultbox').html(data);  
                          $('#add_product')[0].reset();  
                      }  
                });  
            }); 
      });
    </script>    

  </body>
</html>